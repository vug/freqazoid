<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Web Audio API</title>
    <script src="vendor/vue.js"></script>
    <script src="vendor/dsp.js"></script>
</head>
<body>
<div id="app">
    <div>
        <label>buffer size:</label>
        <span class="param-num">
            <label>hop size</label>
            <select v-model.number="hopSize">
                <option>256</option>
                <option>512</option>
                <option>1024</option>
                <option>2048</option>
                <option>4096</option>
                <option>8192</option>
                <option>16384</option>
            </select>
        </span>
        <span class="param-num">
            <label>window size (# of hops)</label>
            <select v-model.number="numHops">
                <option>1</option>
                <option>2</option>
                <option>4</option>
                <option>8</option>
                <option>16</option>
            </select>
        </span>
        <span><label>window size (# of samples)</label> <span>{{windowSize}}</span></span>
    </div>
    <div>
        <label>threshold:</label>
        <span class="param-num">
            <label>initial</label>
            <input type="range" min="0.001" max="1.0" step="0.001" v-model.number="twm.initial">
            {{twm.initial}}
        </span>
        <span class="param-num">
            <label>final</label>
            <input type="range" min="0.001" max="1.0" step="0.001" v-model.number="twm.final">
            {{twm.final}}
        </span>
        <span class="param-num">
            <label>decay</label>
            <input type="range" min="1" max="1000" step="1" v-model.number="twm.freqDecay">
            {{twm.freqDecay}}
        </span>
    </div>

    <div>
        <label>synth input:</label>
        <span class="param-sel">
            <label>type</label>
            <select v-model="ae.oscillator.type">
                <option>sine</option>
                <option>square</option>
                <option>sawtooth</option>
                <option>triangle</option>
                <option>custom</option>
            </select>
        </span>
        <span class="param-num">
            <label>osc amp</label>
            <input type="range" min="0" max="1.0" step="0.01" v-model.number="ae.oscVolume.gain.value">
            {{ae.oscVolume.gain.value.toFixed(2)}}
        </span>
        <span class="param-num">
            <label>frequency</label>
            <input type="range" min="20" max="2000" v-model.number="ae.oscillator.frequency.value">
            {{ae.oscillator.frequency.value}}
        </span>
    </div>

    <div class="param-num">
        <label>output volume:</label>
        <input type="range" min="0" max="1.0" step="0.01" v-model.number="ae.gain.gain.value">
        {{ae.gain.gain.value}}
    </div>

    <!--<div class="param-num">-->
        <!--<label>analyser smoothing time constant</label>-->
        <!--<input type="range" min="0.0" max="1.0" step="0.01" v-model.number="ae.analyser.smoothingTimeConstant">-->
        <!--{{ae.analyser.smoothingTimeConstant}}-->
    <!--</div>-->

    <div>
        <label>audio engine:</label>
        <button v-on:click="pauseAudioEngine">{{enginePlaying ? 'pause' : 'play'}}</button>
    </div>

    <div class="param-num">
        <label>dummy slider</label>
        <input type="range" min="20" max="2000" v-model.number="x">
        {{x}}
    </div>
</div>

<div id="osc" style="width: 100%; height: 300px"></div>
<div id="spc" style="width: 100%; height: 300px"></div>

<script src="js/app.js"></script>
<script>
</script>
</body>
</html>